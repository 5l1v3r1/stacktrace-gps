!function(e,n){"use strict";"function"==typeof define&&define.amd?define("stackframe",[],n):"object"==typeof exports?module.exports=n():e.StackFrame=n()}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function n(e,n,t,r,i){void 0!==e&&this.setFunctionName(e),void 0!==n&&this.setArgs(n),void 0!==t&&this.setFileName(t),void 0!==r&&this.setLineNumber(r),void 0!==i&&this.setColumnNumber(i)}return n.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(n){if(!e(n))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(n)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(n){if(!e(n))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(n)},toString:function(){var n=this.getFunctionName()||"{anonymous}",t="("+(this.getArgs()||[]).join(",")+")",r=this.getFileName()?"@"+this.getFileName():"",i=e(this.getLineNumber())?":"+this.getLineNumber():"",o=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return n+t+r+i+o}},n});var SourceMap=function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){var r;r=function(e,n,r){function i(e){var n=e;"string"==typeof e&&(n=JSON.parse(e.replace(/^\)\]\}'/,"")));var t=o.getArg(n,"version"),r=o.getArg(n,"sources"),i=o.getArg(n,"names",[]),a=o.getArg(n,"sourceRoot",null),u=o.getArg(n,"sourcesContent",null),c=o.getArg(n,"mappings"),l=o.getArg(n,"file",null);if(t!=this._version)throw new Error("Unsupported version: "+t);r=r.map(o.normalize),this._names=s.fromArray(i,!0),this._sources=s.fromArray(r,!0),this.sourceRoot=a,this.sourcesContent=u,this._mappings=c,this.file=l}var o=t(1),a=t(2),s=t(3).ArraySet,u=t(4);i.fromSourceMap=function(e){var n=Object.create(i.prototype);return n._names=s.fromArray(e._names.toArray(),!0),n._sources=s.fromArray(e._sources.toArray(),!0),n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n.__generatedMappings=e._mappings.toArray().slice(),n.__originalMappings=e._mappings.toArray().slice().sort(o.compareByOriginalPositions),n},i.prototype._version=3,Object.defineProperty(i.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?o.join(this.sourceRoot,e):e},this)}}),i.prototype.__generatedMappings=null,Object.defineProperty(i.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__generatedMappings}}),i.prototype.__originalMappings=null,Object.defineProperty(i.prototype,"_originalMappings",{get:function(){return this.__originalMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__originalMappings}}),i.prototype._nextCharIsMappingSeparator=function(e){var n=e.charAt(0);return";"===n||","===n},i.prototype._parseMappings=function(e,n){for(var t,r=1,i=0,a=0,s=0,c=0,l=0,g=e,p={};g.length>0;)if(";"===g.charAt(0))r++,g=g.slice(1),i=0;else if(","===g.charAt(0))g=g.slice(1);else{if(t={},t.generatedLine=r,u.decode(g,p),t.generatedColumn=i+p.value,i=t.generatedColumn,g=p.rest,g.length>0&&!this._nextCharIsMappingSeparator(g)){if(u.decode(g,p),t.source=this._sources.at(c+p.value),c+=p.value,g=p.rest,0===g.length||this._nextCharIsMappingSeparator(g))throw new Error("Found a source, but no line and column");if(u.decode(g,p),t.originalLine=a+p.value,a=t.originalLine,t.originalLine+=1,g=p.rest,0===g.length||this._nextCharIsMappingSeparator(g))throw new Error("Found a source and line, but no column");u.decode(g,p),t.originalColumn=s+p.value,s=t.originalColumn,g=p.rest,g.length>0&&!this._nextCharIsMappingSeparator(g)&&(u.decode(g,p),t.name=this._names.at(l+p.value),l+=p.value,g=p.rest)}this.__generatedMappings.push(t),"number"==typeof t.originalLine&&this.__originalMappings.push(t)}this.__generatedMappings.sort(o.compareByGeneratedPositions),this.__originalMappings.sort(o.compareByOriginalPositions)},i.prototype._findMapping=function(e,n,t,r,i){if(e[t]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[t]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return a.search(e,n,i)},i.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var n=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var t=this._generatedMappings[e+1];if(n.generatedLine===t.generatedLine){n.lastGeneratedColumn=t.generatedColumn-1;continue}}n.lastGeneratedColumn=1/0}},i.prototype.originalPositionFor=function(e){var n={generatedLine:o.getArg(e,"line"),generatedColumn:o.getArg(e,"column")},t=this._findMapping(n,this._generatedMappings,"generatedLine","generatedColumn",o.compareByGeneratedPositions);if(t>=0){var r=this._generatedMappings[t];if(r.generatedLine===n.generatedLine){var i=o.getArg(r,"source",null);return null!=i&&null!=this.sourceRoot&&(i=o.join(this.sourceRoot,i)),{source:i,line:o.getArg(r,"originalLine",null),column:o.getArg(r,"originalColumn",null),name:o.getArg(r,"name",null)}}}return{source:null,line:null,column:null,name:null}},i.prototype.sourceContentFor=function(e){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=o.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=o.urlParse(this.sourceRoot))){var t=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(t))return this.sourcesContent[this._sources.indexOf(t)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}throw new Error('"'+e+'" is not in the SourceMap.')},i.prototype.generatedPositionFor=function(e){var n={source:o.getArg(e,"source"),originalLine:o.getArg(e,"line"),originalColumn:o.getArg(e,"column")};null!=this.sourceRoot&&(n.source=o.relative(this.sourceRoot,n.source));var t=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",o.compareByOriginalPositions);if(t>=0){var r=this._originalMappings[t];return{line:o.getArg(r,"generatedLine",null),column:o.getArg(r,"generatedColumn",null),lastColumn:o.getArg(r,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},i.prototype.allGeneratedPositionsFor=function(e){var n={source:o.getArg(e,"source"),originalLine:o.getArg(e,"line"),originalColumn:1/0};null!=this.sourceRoot&&(n.source=o.relative(this.sourceRoot,n.source));var t=[],r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",o.compareByOriginalPositions);if(r>=0)for(var i=this._originalMappings[r];i&&i.originalLine===n.originalLine;)t.push({line:o.getArg(i,"generatedLine",null),column:o.getArg(i,"generatedColumn",null),lastColumn:o.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[--r];return t.reverse()},i.GENERATED_ORDER=1,i.ORIGINAL_ORDER=2,i.prototype.eachMapping=function(e,n,t){var r,a=n||null,s=t||i.GENERATED_ORDER;switch(s){case i.GENERATED_ORDER:r=this._generatedMappings;break;case i.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var u=this.sourceRoot;r.map(function(e){var n=e.source;return null!=n&&null!=u&&(n=o.join(u,n)),{source:n,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:e.name}}).forEach(e,a)},n.SourceMapConsumer=i}.call(n,t,n,e),!(void 0!==r&&(e.exports=r))},function(e,n,t){var r;r=function(e,n,t){function r(e,n,t){if(n in e)return e[n];if(3===arguments.length)return t;throw new Error('"'+n+'" is a required argument.')}function i(e){var n=e.match(f);return n?{scheme:n[1],auth:n[2],host:n[3],port:n[4],path:n[5]}:null}function o(e){var n="";return e.scheme&&(n+=e.scheme+":"),n+="//",e.auth&&(n+=e.auth+"@"),e.host&&(n+=e.host),e.port&&(n+=":"+e.port),e.path&&(n+=e.path),n}function a(e){var n=e,t=i(e);if(t){if(!t.path)return e;n=t.path}for(var r,a="/"===n.charAt(0),s=n.split(/\/+/),u=0,c=s.length-1;c>=0;c--)r=s[c],"."===r?s.splice(c,1):".."===r?u++:u>0&&(""===r?(s.splice(c+1,u),u=0):(s.splice(c,2),u--));return n=s.join("/"),""===n&&(n=a?"/":"."),t?(t.path=n,o(t)):n}function s(e,n){""===e&&(e="."),""===n&&(n=".");var t=i(n),r=i(e);if(r&&(e=r.path||"/"),t&&!t.scheme)return r&&(t.scheme=r.scheme),o(t);if(t||n.match(m))return n;if(r&&!r.host&&!r.path)return r.host=n,o(r);var s="/"===n.charAt(0)?n:a(e.replace(/\/+$/,"")+"/"+n);return r?(r.path=s,o(r)):s}function u(e,n){""===e&&(e="."),e=e.replace(/\/$/,"");var t=i(e);return"/"==n.charAt(0)&&t&&"/"==t.path?n.slice(1):0===n.indexOf(e+"/")?n.substr(e.length+1):n}function c(e){return"$"+e}function l(e){return e.substr(1)}function g(e,n){var t=e||"",r=n||"";return(t>r)-(r>t)}function p(e,n,t){var r;return(r=g(e.source,n.source))?r:(r=e.originalLine-n.originalLine)?r:(r=e.originalColumn-n.originalColumn,r||t?r:(r=g(e.name,n.name))?r:(r=e.generatedLine-n.generatedLine,r?r:e.generatedColumn-n.generatedColumn))}function h(e,n,t){var r;return(r=e.generatedLine-n.generatedLine)?r:(r=e.generatedColumn-n.generatedColumn,r||t?r:(r=g(e.source,n.source))?r:(r=e.originalLine-n.originalLine)?r:(r=e.originalColumn-n.originalColumn,r?r:g(e.name,n.name)))}n.getArg=r;var f=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,m=/^data:.+\,.+$/;n.urlParse=i,n.urlGenerate=o,n.normalize=a,n.join=s,n.relative=u,n.toSetString=c,n.fromSetString=l,n.compareByOriginalPositions=p,n.compareByGeneratedPositions=h}.call(n,t,n,e),!(void 0!==r&&(e.exports=r))},function(e,n,t){var r;r=function(e,n,t){function r(e,n,t,i,o){var a=Math.floor((n-e)/2)+e,s=o(t,i[a],!0);return 0===s?a:s>0?n-a>1?r(a,n,t,i,o):a:a-e>1?r(e,a,t,i,o):0>e?-1:e}n.search=function(e,n,t){return 0===n.length?-1:r(-1,n.length,e,n,t)}}.call(n,t,n,e),!(void 0!==r&&(e.exports=r))},function(e,n,t){var r;r=function(e,n,r){function i(){this._array=[],this._set={}}var o=t(1);i.fromArray=function(e,n){for(var t=new i,r=0,o=e.length;o>r;r++)t.add(e[r],n);return t},i.prototype.add=function(e,n){var t=this.has(e),r=this._array.length;(!t||n)&&this._array.push(e),t||(this._set[o.toSetString(e)]=r)},i.prototype.has=function(e){return Object.prototype.hasOwnProperty.call(this._set,o.toSetString(e))},i.prototype.indexOf=function(e){if(this.has(e))return this._set[o.toSetString(e)];throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},n.ArraySet=i}.call(n,t,n,e),!(void 0!==r&&(e.exports=r))},function(e,n,t){var r;r=function(e,n,r){function i(e){return 0>e?(-e<<1)+1:(e<<1)+0}function o(e){var n=1===(1&e),t=e>>1;return n?-t:t}var a=t(5),s=5,u=1<<s,c=u-1,l=u;n.encode=function(e){var n,t="",r=i(e);do n=r&c,r>>>=s,r>0&&(n|=l),t+=a.encode(n);while(r>0);return t},n.decode=function(e,n){var t,r,i=0,u=e.length,g=0,p=0;do{if(i>=u)throw new Error("Expected more digits in base 64 VLQ value.");r=a.decode(e.charAt(i++)),t=!!(r&l),r&=c,g+=r<<p,p+=s}while(t);n.value=o(g),n.rest=e.slice(i)}}.call(n,t,n,e),!(void 0!==r&&(e.exports=r))},function(e,n,t){var r;r=function(e,n,t){var r={},i={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(function(e,n){r[e]=n,i[n]=e}),n.encode=function(e){if(e in i)return i[e];throw new TypeError("Must be between 0 and 63: "+e)},n.decode=function(e){if(e in r)return r[e];throw new TypeError("Not a valid base 64 digit: "+e)}}.call(n,t,n,e),!(void 0!==r&&(e.exports=r))}]);!function(e,n){"use strict";"function"==typeof define&&define.amd?define("stacktrace-gps",["source-map","stackframe"],n):"object"==typeof exports?module.exports=n(require("source-map/lib/source-map/source-map-consumer"),require("stackframe")):e.StackTraceGPS=n(e.SourceMap,e.StackFrame)}(this,function(e,n){"use strict";function t(){for(var e,n=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],r=0;r<n.length;r++)try{return e=n[r](),t=n[r],e}catch(i){}}function r(e,n,r){var i=t();i.open("get",e),i.onerror=r,i.onreadystatechange=function(){if(4===i.readyState){if(i.status>=200&&i.status<400)return n(i.responseText);r(new Error("Unable to retrieve "+e))}},i.send()}function i(e,n,t){for(var r,i,o,a=/function\s+([^(]*?)\s*\(([^)]*)\)/,s=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,u=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,c=e.split("\n"),l="",g=Math.min(n,20),p=0;g>p;++p)if(r=c[n-p-1],o=r.indexOf("//"),o>=0&&(r=r.substr(0,o)),r){if(l=r+l,i=s.exec(l),i&&i[1])return i[1];if(i=a.exec(l),i&&i[1])return i[1];if(i=u.exec(l),i&&i[1])return i[1]}return void 0}function o(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}function a(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!==0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!==0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}function s(e){var n=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)$/.exec(e);if(n&&n[1])return n[1];throw new Error("sourceMappingURL not found")}function u(t,r,i,o){var a=new e.SourceMapConsumer(t).originalPositionFor({line:i,column:o});return new n(a.name,r,a.source,a.line,a.column)}return function c(e){return this instanceof c?(e=e||{},this.sourceCache=e.sourceCache||{},this.ajax=r,this._atob=function(e){if(window&&window.atob)return window.atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString("utf-8");throw new Error("No base64 decoder available")},this._get=function(n){return new Promise(function(t,r){var i="data:"===n.substr(0,5);if(this.sourceCache[n])t(this.sourceCache[n]);else if(e.offline&&!i)r(new Error("Cannot make network requests in offline mode"));else if(i){var o="application/json;base64";if(n.substr(5,o.length)!==o)r(new Error("The encoding of the inline sourcemap is not supported"));else{var a="data:".length+o.length+",".length,s=n.substr(a),u=this._atob(s);this.sourceCache[n]=u,t(u)}}else this.ajax(n,function(e){this.sourceCache[n]=e,t(e)}.bind(this),r)}.bind(this))},this.pinpoint=function(e){return new Promise(function(n,t){this.getMappedLocation(e).then(function(e){function t(){n(e)}this.findFunctionName(e).then(n,t)["catch"](t)}.bind(this),t)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(t,r){a(e),this._get(e.fileName).then(function(r){var o=i(r,e.lineNumber,e.columnNumber);t(new n(o,e.args,e.fileName,e.lineNumber,e.columnNumber))},r)}.bind(this))},void(this.getMappedLocation=function(e){return new Promise(function(n,t){o(),a(e);var r=e.fileName;this._get(r).then(function(i){var o=s(i);"/"!==o[0]&&(o=r.substring(0,r.lastIndexOf("/")+1)+o),this._get(o).then(function(t){var r=e.lineNumber,i=e.columnNumber;n(u(t,e.args,r,i))},t)["catch"](t)}.bind(this),t)["catch"](t)}.bind(this))})):new c(e)}});
//# sourceMappingURL=stacktrace-gps.min.js.map